<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestion Técnica 24/7</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/gestion_tecnica.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    />
    <link rel="icon" href="assets/img/logo.ico" type="image/x-icon" />
    <script src="js/bootstrap.min.js"></script>
  </head>

  <body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">SEGURIDAD 24/7 ECUADOR</a>

        <button class="navbar-toggler" type="button" id="sidebarToggle">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="collapse navbar-collapse d-none d-lg-flex justify-content-end"
          id="navbarNav"
        >
          <button class="btn-logout-nav" id="logoutBtn">
            <i class="fa-solid fa-right-from-bracket"></i> Cerrar Sesión
          </button>
        </div>
      </div>
    </nav>

    <div class="admin-wrapper">
      <!-- SIDEBAR -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-logo">
          <img src="assets/img/logo.png" alt="Logo" />
          <span class="admin-label">TÉCNICO</span>
        </div>

        <ul class="sidebar-menu">
          <li class="sidebar-item">
            <a class="sidebar-link active" data-view="dashboard">
              <i class="fa-solid fa-gauge-high"></i> Dashboard
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" data-view="jobs">
              <i class="fa-solid fa-screwdriver-wrench"></i> Trabajos
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" data-view="contracts">
              <i class="fa-solid fa-file-contract"></i> Contratos
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" data-view="passwords">
              <i class="fa-solid fa-key"></i> Gestión de Claves
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" data-view="guides">
              <i class="fa-solid fa-book"></i> Guías Técnicas
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" data-view="tutorials">
              <i class="fa-solid fa-book-open"></i> Tutoriales
            </a>
          </li>
          <!-- Logout for mobile -->
          <li class="sidebar-item d-lg-none mt-4">
            <button class="btn-logout-sidebar w-100" id="logoutBtnMobile">
              <i class="fa-solid fa-right-from-bracket"></i> Cerrar Sesión
            </button>
          </li>
        </ul>
      </aside>

      <!-- CONTENT -->
      <main class="main-content">
        <div class="container-fluid">
          <!-- Dashboard Section -->
          <div id="dashboardSection">
            <h1 class="mb-5">Área de Gestión Técnica</h1>

            <!-- Welcome Profile Card -->
            <div class="row mb-5">
              <div class="col-12">
                <div
                  class="job-card"
                  id="userProfileCard"
                  style="display: none"
                >
                  <div class="d-flex align-items-center gap-4">
                    <div class="profile-avatar">
                      <i class="fa-solid fa-screwdriver-wrench fa-2x"></i>
                    </div>
                    <div>
                      <h4 id="userName" class="text-gold mb-0">Cargando...</h4>
                      <p id="userEmail" class="text-white-50 mb-0"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row g-4 mb-5">
              <div class="col-xl-6 col-md-6">
                <div class="stat-card">
                  <div
                    class="stat-card-icon"
                    style="background: rgba(212, 175, 55, 0.1); color: #d4af37"
                  >
                    <i class="fa-solid fa-screwdriver-wrench"></i>
                  </div>
                  <div class="stat-card-info">
                    <h3 id="statTotalTrabajos">0</h3>
                    <p>Trabajos Pendientes</p>
                  </div>
                </div>
              </div>
              <div class="col-xl-6 col-md-6">
                <div class="stat-card">
                  <div
                    class="stat-card-icon"
                    style="background: rgba(28, 182, 152, 0.1); color: #1cb698"
                  >
                    <i class="fa-solid fa-file-contract"></i>
                  </div>
                  <div class="stat-card-info">
                    <h3 id="statTotalContratos">0</h3>
                    <p>Contratos Disponibles</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Notifications Section -->
            <div id="notificationsSection" class="mb-5" style="display: none">
              <div class="notifications-card">
                <div
                  class="notifications-header d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3"
                >
                  <h2 class="section-title mb-0">
                    <i class="fa-solid fa-bell me-2"></i> Notificaciones
                  </h2>

                  <div class="notification-filters d-flex gap-2">
                    <button class="notif-filter-btn active" data-filter="all">
                      Todos
                    </button>
                    <button class="notif-filter-btn" data-filter="job">
                      Trabajos
                    </button>
                    <button class="notif-filter-btn" data-filter="contract">
                      Contratos
                    </button>
                  </div>

                  <span
                    class="badge rounded-pill bg-gold"
                    id="notificationBadge"
                    >0</span
                  >
                </div>

                <div id="notificationsList" class="notifications-list">
                  <!-- Notificaciones se cargarán aquí -->
                </div>

                <div class="text-center mt-4">
                  <button class="view-all-btn" id="viewAllNotifications">
                    <i class="fa-solid fa-eye me-2"></i> Ver Todo el Historial
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Filtros y Buscador (Se mostrarán según la vista) -->
          <div
            class="filter-container mb-4"
            id="globalFilterContainer"
            style="display: none"
          >
            <div class="row g-3 align-items-center">
              <!-- Filtro Urgencia -->
              <div
                class="col-md-4"
                id="urgencyFilterContainer"
                style="display: none"
              >
                <label for="urgencyFilter" class="form-label">Urgencia:</label>
                <select id="urgencyFilter" class="form-select modern-select">
                  <option value="todas">Todas</option>
                  <option value="Normal">Normal</option>
                  <option value="Urgente">Urgente</option>
                  <option value="Crítico">Crítico</option>
                </select>
              </div>

              <!-- Buscador por Nombre -->
              <div class="col-md-8" id="nameFilterContainer">
                <label for="nameFilter" class="form-label">Buscar:</label>
                <input
                  type="text"
                  id="nameFilter"
                  class="form-control modern-input"
                  placeholder="Buscar por cliente o contacto..."
                />
              </div>
            </div>
          </div>

          <!-- Contenedor con los trabajos cargados -->
          <div id="jobsSection" style="display: none">
            <h2 class="section-title mb-4">Trabajos Pendientes</h2>
            <div id="jobsContainer" class="row g-4"></div>
          </div>

          <!-- Contenedor para los contratos -->
          <div id="contractsSection" style="display: none">
            <h2 class="section-title mb-4">Contratos Disponibles</h2>
            <div id="contractsContainer" class="row g-4"></div>
          </div>

          <!-- Guías Técnicas Section -->
          <div id="guidesSection" style="display: none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h2 class="section-title mb-0">Guías Técnicas</h2>
              <button
                class="btn btn-gold"
                data-bs-toggle="modal"
                data-bs-target="#uploadGuideModal"
                style="display: none"
              >
                <i class="fa-solid fa-cloud-arrow-up me-2"></i> Subir Guía
              </button>
            </div>

            <div class="guides-search mb-4">
              <input
                type="text"
                id="guideSearchInput"
                class="form-control modern-input"
                placeholder="Buscar por nombre de guía..."
              />
            </div>
            <div id="guidesContainer" class="row g-4 mt-3">
              <p class="text-center text-muted">Cargando guías...</p>
            </div>
          </div>

          <!-- Tutoriales Section -->
          <div id="tutorialsSection" style="display: none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h2 class="section-title mb-0">Tutoriales</h2>
              <button
                class="btn btn-gold"
                id="uploadTutorialBtn"
                data-bs-toggle="modal"
                data-bs-target="#uploadTutorialModal"
                style="display: none"
              >
                <i class="fa-solid fa-plus me-2"></i> Agregar Tutorial
              </button>
            </div>

            <div class="guides-search mb-4">
              <input
                type="text"
                id="tutorialSearchInput"
                class="form-control modern-input"
                placeholder="Buscar tutorial..."
              />
            </div>
            <div id="tutorialsContainer" class="row g-4 mt-3">
              <p class="text-center text-muted">Cargando tutoriales...</p>
            </div>
          </div>

          <!-- Gestión de Claves Section -->
          <div id="passwordsSection" style="display: none">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h2 class="section-title mb-0">Gestión de Claves Técnicas</h2>
              <button
                class="btn btn-gold"
                id="addPasswordBtn"
                data-bs-toggle="modal"
                data-bs-target="#addPasswordModal"
              >
                <i class="fa-solid fa-plus me-2"></i> Agregar Nueva Clave
              </button>
            </div>

            <div class="guides-search mb-4">
              <input
                type="text"
                id="passwordSearchInput"
                class="form-control modern-input"
                placeholder="Buscar por conjunto o dispositivo..."
              />
            </div>
            <div
              id="passwordsContainer"
              class="row g-4"
              style="margin-top: 20px"
            >
              <p class="text-center text-muted">Cargando claves...</p>
            </div>
          </div>

          <!-- Modal para Agregar/Editar Clave -->
          <div
            class="modal fade"
            id="addPasswordModal"
            tabindex="-1"
            aria-labelledby="addPasswordModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="addPasswordModalLabel">
                    Gestionar Clave de Dispositivo
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="passwordForm">
                    <input type="hidden" id="passwordId" />
                    <div class="mb-3">
                      <label for="passComplexName" class="form-label"
                        >Nombre del Conjunto</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="passComplexName"
                        placeholder="Ej: Conjunto San Francisco"
                        required
                      />
                    </div>

                    <div class="row">
                      <div class="col-md-6 mb-3">
                        <label for="passCitofono" class="form-label"
                          >Clave Citófono</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="passCitofono"
                          placeholder="Ej: 1234"
                        />
                      </div>
                      <div class="col-md-6 mb-3">
                        <label for="passDVR" class="form-label"
                          >Clave DVR</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="passDVR"
                          placeholder="Admin123"
                        />
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-6 mb-3">
                        <label for="passWifiName" class="form-label"
                          >Nombre Red Wifi</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="passWifiName"
                          placeholder="SSID Red"
                        />
                      </div>
                      <div class="col-md-6 mb-3">
                        <label for="passWifiPass" class="form-label"
                          >Clave Wifi</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="passWifiPass"
                          placeholder="WifiPass123"
                        />
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-6 mb-3">
                        <label for="passCamBrand" class="form-label"
                          >Marca Cámaras</label
                        >
                        <select class="form-select" id="passCamBrand">
                          <option value="Hikvision">Hikvision</option>
                          <option value="Dahua">Dahua</option>
                          <option value="Ezviz">Ezviz</option>
                          <option value="Otros">Otros</option>
                        </select>
                      </div>
                      <div class="col-md-6 mb-3">
                        <label for="passCamPass" class="form-label"
                          >Clave Cámaras</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="passCamPass"
                          placeholder="CamPass123"
                        />
                      </div>
                    </div>

                    <div class="mb-3">
                      <label for="passNotes" class="form-label"
                        >Observaciones Adicionales</label
                      >
                      <textarea
                        class="form-control"
                        id="passNotes"
                        rows="2"
                        placeholder="Ej: Ubicación del rack, detalles de configuración"
                      ></textarea>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-gold"
                    id="savePasswordBtn"
                  >
                    Guardar Clave
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal para Agregar Tutorial (Video o PDF) -->
          <div
            class="modal fade"
            id="uploadTutorialModal"
            tabindex="-1"
            aria-labelledby="uploadTutorialModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="uploadTutorialModalLabel">
                    Agregar Nuevo Tutorial
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="tutorialUploadForm">
                    <div class="mb-3">
                      <label for="tutorialType" class="form-label"
                        >Tipo de Tutorial</label
                      >
                      <select class="form-select" id="tutorialType" required>
                        <option value="" disabled selected>
                          Seleccione tipo
                        </option>
                        <option value="video">YouTube Video</option>
                        <option value="pdf">Documento PDF</option>
                      </select>
                    </div>

                    <div class="mb-3">
                      <label for="tutorialTitle" class="form-label"
                        >Título del Tutorial</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="tutorialTitle"
                        placeholder="Ej: Manual de Usuario Alarmas"
                        required
                      />
                    </div>

                    <!-- Campo para Video -->
                    <div class="mb-3" id="videoUrlGroup" style="display: none">
                      <label for="tutorialVideoUrl" class="form-label"
                        >URL de YouTube</label
                      >
                      <input
                        type="url"
                        class="form-control"
                        id="tutorialVideoUrl"
                        placeholder="https://www.youtube.com/watch?v=..."
                      />
                    </div>

                    <!-- Campo para PDF -->
                    <div class="mb-3" id="pdfFileGroup" style="display: none">
                      <label for="tutorialPdfFile" class="form-label"
                        >Archivo PDF</label
                      >
                      <input
                        type="file"
                        class="form-control"
                        id="tutorialPdfFile"
                        accept=".pdf"
                      />
                      <div
                        class="progress mt-2"
                        style="display: none"
                        id="tutorialPdfProgress"
                      >
                        <div
                          class="progress-bar progress-bar-striped progress-bar-animated bg-gold"
                          style="width: 0%"
                        ></div>
                      </div>
                    </div>

                    <div class="mb-3">
                      <label for="tutorialCategory" class="form-label"
                        >Categoría</label
                      >
                      <select
                        class="form-select"
                        id="tutorialCategory"
                        required
                      >
                        <option value="" disabled selected>
                          Seleccione una categoría
                        </option>
                        <option value="dvr">Dvr/Hvr</option>
                        <option value="camaras">Camaras</option>
                        <option value="citofonos">Citofonos</option>
                        <option value="alarma">Alarmas</option>
                        <option value="cercos">Cercos Electricos</option>
                        <option value="wifi">Redes/Wifi</option>
                        <option value="configuraciones">Configuraciones</option>
                      </select>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="button"
                    class="btn btn-gold"
                    id="saveTutorialBtn"
                  >
                    Guardar Tutorial
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal para Informe Técnico -->
        </div>
      </main>
    </div>
    <!-- Fin del admin-wrapper -->

    <footer class="footer">
      © 2025 Seguridad 24/7 Ecuador &
      <a
        href="https://mallitaxicodevision.netlify.app/"
        target="_blank"
        rel="noopener noreferrer"
        class="footer-link"
      >
        MCV (Mallitaxi Code Vision)
      </a>
      — Todos los derechos reservados
    </footer>

    <!-- Modal para Informe Técnico -->
    <div
      class="modal fade"
      id="technicalReportModal"
      tabindex="-1"
      aria-labelledby="technicalReportModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="technicalReportModalLabel">
              Generar Informe Técnico
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="reportForm">
              <input type="hidden" id="jobId" />
              <div id="jobDetails" class="mb-3"></div>
              <div class="mb-3">
                <label for="reportText" class="form-label text-gold">
                  <i class="fa-solid fa-pen-to-square me-2"></i>Informe de
                  Trabajo Realizado
                </label>
                <textarea
                  class="form-control"
                  id="reportText"
                  rows="4"
                  required
                ></textarea>
              </div>
              <div class="row">
                <div class="col-md-6 mb-4">
                  <div class="report-input-group">
                    <label for="evidencePhoto1" class="form-label text-gold">
                      <i class="fa-solid fa-camera me-2"></i>Evidencia 1 (Foto)
                    </label>
                    <input
                      type="file"
                      class="form-control bg-dark border-gold text-white"
                      id="evidencePhoto1"
                      accept="image/*"
                    />
                  </div>
                </div>
                <div class="col-md-6 mb-4">
                  <div class="report-input-group">
                    <label for="evidencePhoto2" class="form-label text-gold">
                      <i class="fa-solid fa-camera me-2"></i>Evidencia 2 (Foto)
                    </label>
                    <input
                      type="file"
                      class="form-control bg-dark border-gold text-white"
                      id="evidencePhoto2"
                      accept="image/*"
                    />
                  </div>
                </div>
              </div>

              <div class="mb-4">
                <label for="jobStatus" class="form-label text-gold">
                  <i class="fa-solid fa-list-check me-2"></i>Estado Final del
                  Trabajo
                </label>
                <select
                  class="form-select bg-dark border-gold text-white"
                  id="jobStatus"
                  required
                >
                  <option value="" disabled selected>
                    Seleccione un estado
                  </option>
                  <option value="Pendiente">Pendiente</option>
                  <option value="Culminado">Culminado</option>
                </select>
              </div>

              <div class="row g-4 mt-2">
                <!-- Firma por Defecto (Sello Técnico) -->
                <div class="col-md-6">
                  <div class="signature-display-box">
                    <label class="form-label text-gold">
                      <i class="fa-solid fa-stamp me-2"></i>Sello de Servicio
                      Técnico
                    </label>
                    <div class="signature-container default-seal">
                      <img
                        src="assets/img/firma.png"
                        alt="Sello Técnico"
                        class="img-fluid"
                        style="max-height: 100px"
                      />
                    </div>
                    <small class="text-white-50 mt-1 d-block text-center"
                      >Este sello se incluirá por defecto en el informe.</small
                    >
                  </div>
                </div>

                <!-- Firma del Cliente -->
                <div class="col-md-6">
                  <div class="signature-capture-box">
                    <label class="form-label text-gold">
                      <i class="fa-solid fa-signature me-2"></i>Firma de
                      Conformidad Cliente
                    </label>
                    <div class="signature-container bg-white rounded-3 p-1">
                      <canvas
                        id="reportSignatureCanvas"
                        style="
                          width: 100%;
                          height: 120px;
                          cursor: crosshair;
                          touch-action: none;
                          border-radius: 4px;
                        "
                      ></canvas>
                    </div>
                    <div class="d-flex justify-content-between mt-2">
                      <small class="text-white-50"
                        >Capture la firma del cliente aquí.</small
                      >
                      <button
                        type="button"
                        class="btn btn-sm btn-outline-danger"
                        id="clearReportSignatureBtn"
                      >
                        <i class="fa-solid fa-eraser me-1"></i>Limpiar
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cerrar
            </button>
            <button type="button" class="btn btn-primary" id="saveReportBtn">
              Guardar Informe
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal para Llenar Contrato -->
    <div
      class="modal fade"
      id="fillContractModal"
      tabindex="-1"
      aria-labelledby="fillContractModalLabel"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="fillContractModalLabel">
              Completar Contrato
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <input type="hidden" id="contractIdToFill" />

            <!-- Contrato generado -->
            <div
              id="contractContentToFill"
              class="mb-4"
              style="
                background: #fff;
                color: #000;
                padding: 20px;
                border-radius: 8px;
              "
            ></div>

            <hr
              id="fillContractDivider"
              style="border-color: #d4af37; margin: 30px 0"
            />

            <!-- Sección de firma y cédula -->
            <div id="fillContractSection">
              <h6 style="color: #d4af37; margin-bottom: 20px">
                Completar Información del Cliente
              </h6>

              <div class="row">
                <!-- Canvas de Firma -->
                <div class="col-md-6 mb-4">
                  <label class="form-label" style="color: #d4af37"
                    >Firma del Cliente</label
                  >
                  <div
                    style="
                      border: 2px solid #d4af37;
                      border-radius: 8px;
                      background: #fff;
                      padding: 10px;
                    "
                  >
                    <canvas
                      id="signatureCanvas"
                      style="
                        width: 100%;
                        height: 200px;
                        cursor: crosshair;
                        touch-action: none;
                      "
                    ></canvas>
                  </div>
                  <button
                    type="button"
                    class="btn btn-sm btn-secondary mt-2"
                    id="clearSignatureBtn"
                  >
                    <i class="fa-solid fa-eraser"></i> Limpiar Firma
                  </button>
                </div>

                <!-- Foto de Cédula -->
                <div class="col-md-6 mb-4">
                  <label class="form-label" style="color: #d4af37"
                    >Foto de Cédula del Cliente</label
                  >
                  <input
                    type="file"
                    class="form-control"
                    id="clientIdPhoto"
                    accept="image/*"
                  />
                  <div id="idPhotoPreview" class="mt-3" style="display: none">
                    <img
                      id="idPhotoPreviewImg"
                      src=""
                      alt="Vista previa de cédula"
                      style="
                        max-width: 100%;
                        border: 2px solid #d4af37;
                        border-radius: 8px;
                      "
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cerrar
            </button>
            <button type="button" class="btn btn-gold" id="saveContractBtn">
              Guardar Contrato Completado
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal para Subir Guía Técnica -->
    <div
      class="modal fade"
      id="uploadGuideModal"
      tabindex="-1"
      aria-labelledby="uploadGuideModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="uploadGuideModalLabel">
              Subir Nueva Guía Técnica
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="guideUploadForm">
              <div class="mb-3">
                <label for="guideName" class="form-label"
                  >Nombre de la Guía</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="guideName"
                  placeholder="Ej: Manual Configuración DVR Hikvision"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="guideFile" class="form-label">Archivo PDF</label>
                <input
                  type="file"
                  class="form-control"
                  id="guideFile"
                  accept=".pdf"
                  required
                />
              </div>
              <div
                class="progress mb-3"
                style="display: none"
                id="uploadProgressContainer"
              >
                <div
                  id="uploadProgressBar"
                  class="progress-bar progress-bar-striped progress-bar-animated bg-gold"
                  role="progressbar"
                  style="width: 0%"
                  aria-valuenow="0"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  0%
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="button" class="btn btn-gold" id="saveGuideBtn">
              Guardar Guía
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- SCRIPTS -->
    <!-- FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <!-- Scripts personalizados -->
    <script src="js/firebase.js"></script>
    <script src="js/login_tecnico.js"></script>
    <script src="js/sweetalert2.js"></script>
  </body>
</html>
